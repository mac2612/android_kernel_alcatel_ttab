#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0
#define BAT_NTC_100 0

#ifdef CONFIG_MTK_PMIC_MT6397
#define RBAT_PULL_UP_R             24000
#define RBAT_PULL_DOWN_R           100000000
#define RBAT_PULL_UP_VOLT          1200

#else

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900
#define RBAT_PULL_DOWN_R           27000
#endif
#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900
#define RBAT_PULL_DOWN_R           100000
#endif
#if (BAT_NTC_100 == 1)
#define RBAT_PULL_UP_R             24000
#define RBAT_PULL_DOWN_R           100000000
#endif
#define RBAT_PULL_UP_VOLT          1800
#endif


// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC {
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC {
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum {
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
    {-20,65170},
    {-15,52060},
    {-10,42820},
    { -5,34420},
    {  0,27750},
    {  5,22440},
    { 10,17926},
    { 15,14674},
    { 20,12081},
    { 25,10000},
    { 30,8250},
    { 35,6850},
    { 40,5823},
    { 45,4907},
    { 50,4160},
    { 55,3538},
    { 60,3021}
};
#endif

#if (BAT_NTC_47 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
    {-20,483954},
    {-15,360850},
    {-10,271697},
    { -5,206463},
    {  0,158214},
    {  5,122259},
    { 10,95227},
    { 15,74730},
    { 20,59065},
    { 25,47000},
    { 30,37643},
    { 35,30334},
    { 40,24591},
    { 45,20048},
    { 50,16433},
    { 55,13539},
    { 60,11210}
};
#endif

#if (BAT_NTC_100 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
    {-20,1151037},
    {-15,846579},
    {-10,628988},
    { -5,471632},
    {  0,357012},
    {  5,272500},
    { 10,209710},
    { 15,162651},
    { 20,127080},
    { 25,100000},
    { 30,79222},
    { 35,63167},
    { 40,50677},
    { 45,40904},
    { 50,33195},
    { 55,27091},
    { 60,22224}
};
#endif
// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] = {
    {0,   4333},
    {1,   4314},
    {3,   4296},
    {4,   4280},
    {6,   4263},
    {7,   4247},
    {9,   4231},
    {10,  4215},
    {12,  4199},
    {13,  4183},
    {15,  4168},
    {16,  4153},
    {18,  4137},
    {19,  4123},
    {20,  4107},
    {22,  4093},
    {23,  4079},
    {25,  4068},
    {26,  4058},
    {28,  4040},
    {29,  4020},
    {31,  4004},
    {32,  3993},
    {34,  3984},
    {35,  3974},
    {37,  3963},
    {38,  3951},
    {39,  3938},
    {41,  3923},
    {42,  3906},
    {44,  3891},
    {45,  3879},
    {47,  3868},
    {48,  3860},
    {50,  3851},
    {51,  3844},
    {53,  3837},
    {54,  3830},
    {56,  3824},
    {57,  3818},
    {58,  3812},
    {60,  3807},
    {61,  3803},
    {63,  3797},
    {64,  3793},
    {66,  3790},
    {67,  3786},
    {69,  3782},
    {70,  3778},
    {72,  3774},
    {73,  3769},
    {75,  3765},
    {76,  3760},
    {77,  3754},
    {79,  3747},
    {80,  3742},
    {82,  3734},
    {83,  3724},
    {85,  3715},
    {86,  3702},
    {88,  3693},
    {89,  3691},
    {91,  3689},
    {92,  3687},
    {94,  3685},
    {95,  3677},
    {96,  3638},
    {98,  3567},
    {99,  3464},
    {100, 3359},
    {101, 3333},
    {101, 3319},
    {101, 3312},
    {101, 3307},
    {101, 3304},
    {101, 3300},
    {101, 3295},
    {101, 3292},
    {101, 3291},
    {101, 3290},
    {101, 3290},
    {101, 3289},
    {101, 3288},
    {101, 3285},
    {101, 3285},
    {101, 3284},
};

// T1 0C
BATTERY_PROFILE_STRUC battery_profile_t1[] = {
    {0,   4333},
    {1,   4314},
    {3,   4296},
    {4,   4280},
    {6,   4263},
    {7,   4247},
    {9,   4231},
    {10,  4215},
    {12,  4199},
    {13,  4183},
    {15,  4168},
    {16,  4153},
    {18,  4137},
    {19,  4123},
    {20,  4107},
    {22,  4093},
    {23,  4092},
    {25,  4081},
    {26,  4072},
    {28,  4047},
    {29,  4027},
    {31,  4005},
    {32,  3985},
    {34,  3957},
    {35,  3948},
    {37,  3940},
    {38,  3932},
    {39,  3923},
    {41,  3913},
    {42,  3903},
    {44,  3886},
    {45,  3878},
    {47,  3869},
    {48,  3862},
    {50,  3851},
    {51,  3842},
    {53,  3837},
    {54,  3830},
    {56,  3820},
    {57,  3815},
    {58,  3812},
    {60,  3807},
    {61,  3803},
    {63,  3793},
    {64,  3790},
    {66,  3786},
    {67,  3783},
    {69,  3780},
    {70,  3778},
    {72,  3771},
    {73,  3769},
    {75,  3766},
    {76,  3762},
    {77,  3759},
    {79,  3751},
    {80,  3746},
    {82,  3740},
    {83,  3732},
    {85,  3717},
    {86,  3709},
    {88,  3703},
    {89,  3698},
    {91,  3696},
    {92,  3693},
    {94,  3685},
    {95,  3672},
    {96,  3643},
    {98,  3589},
    {99,  3507},
    {100, 3384},
    {101, 3333},
    {101, 3319},
    {101, 3312},
    {101, 3307},
    {101, 3304},
    {101, 3300},
    {101, 3295},
    {101, 3292},
    {101, 3291},
    {101, 3290},
    {101, 3290},
    {101, 3289},
    {101, 3288},
    {101, 3285},
    {101, 3285},
    {101, 3284},
};

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] = {
    {0,   4333},
    {1,   4328},
    {3,   4316},
    {4,   4303},
    {6,   4274},
    {7,   4260},
    {9,   4247},
    {10,  4232},
    {12,  4220},
    {13,  4193},
    {15,  4182},
    {16,  4167},
    {18,  4141},
    {19,  4130},
    {20,  4116},
    {22,  4106},
    {23,  4091},
    {25,  4080},
    {26,  4068},
    {28,  4051},
    {29,  4037},
    {31,  4023},
    {32,  4006},
    {34,  3984},
    {35,  3975},
    {37,  3965},
    {38,  3954},
    {39,  3942},
    {41,  3940},
    {42,  3928},
    {44,  3924},
    {45,  3920},
    {47,  3888},
    {48,  3882},
    {50,  3880},
    {51,  3872},
    {53,  3868},
    {54,  3862},
    {56,  3850},
    {57,  3836},
    {58,  3832},
    {60,  3830},
    {61,  3824},
    {63,  3818},
    {64,  3812},
    {66,  3801},
    {67,  3791},
    {69,  3786},
    {70,  3780},
    {72,  3779},
    {73,  3775},
    {75,  3769},
    {76,  3765},
    {77,  3762},
    {79,  3753},
    {80,  3745},
    {82,  3734},
    {83,  3724},
    {85,  3720},
    {86,  3717},
    {88,  3710},
    {89,  3704},
    {91,  3698},
    {92,  3692},
    {94,  3692},
    {95,  3690},
    {96,  3684},
    {98,  3655},
    {99,  3626},
    {100, 3588},
    {101, 3582},
    {101, 3576},
    {101, 3576},
    {101, 3574},
    {101, 3569},
    {101, 3569},
    {101, 3569},
    {101, 3569},
    {101, 3569},
    {101, 3576},
    {101, 3574},
    {101, 3569},
    {101, 3569},
    {101, 3569},
    {101, 3569},
    {101, 3569},
};

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] = {
    {0,   4333},
    {1,   4314},
    {3,   4296},
    {4,   4280},
    {6,   4263},
    {7,   4247},
    {9,   4231},
    {10,   4215},
    {12,   4199},
    {13,   4183},
    {15,   4168},
    {16,   4153},
    {18,   4137},
    {19,   4123},
    {20,   4107},
    {22,   4093},
    {23,   4079},
    {25,   4068},
    {26,   4058},
    {28,   4040},
    {29,   4020},
    {31,   4004},
    {32,   3993},
    {34,   3984},
    {35,   3974},
    {37,   3963},
    {38,   3951},
    {39,   3938},
    {41,   3923},
    {42,   3906},
    {44,   3891},
    {45,   3879},
    {47,   3868},
    {48,   3860},
    {50,   3851},
    {51,   3844},
    {53,   3837},
    {54,   3830},
    {56,   3824},
    {57,   3818},
    {58,   3812},
    {60,   3807},
    {61,   3803},
    {63,   3797},
    {64,   3793},
    {66,   3790},
    {67,   3786},
    {69,   3782},
    {70,   3778},
    {72,   3774},
    {73,   3769},
    {75,   3765},
    {76,   3760},
    {77,   3754},
    {79,   3747},
    {80,   3742},
    {82,   3734},
    {83,   3724},
    {85,   3715},
    {86,   3702},
    {88,   3693},
    {89,   3691},
    {91,   3689},
    {92,   3687},
    {94,   3685},
    {95,   3677},
    {96,   3638},
    {98,   3567},
    {99,   3464},
    {100,   3359},
    {101,   3333},
    {101,   3319},
    {101,   3312},
    {101,   3307},
    {101,   3304},
    {101,   3300},
    {101,   3295},
    {101,   3292},
    {101,   3291},
    {101,   3290},
    {101,   3290},
    {101,   3289},
    {101,   3288},
    {101,   3285},
    {101,   3285},
    {101,   3284},
};

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] = {
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
};


// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] = {
    {813,   4333},
    {813,   4314},
    {814,   4296},
    {806,   4280},
    {801,   4263},
    {793,   4247},
    {788,   4231},
    {781,   4215},
    {775,   4199},
    {771,   4183},
    {768,   4168},
    {762,   4153},
    {761,   4137},
    {745,   4123},
    {751,   4107},
    {745,   4093},
    {745,   4079},
    {733,   4068},
    {732,   4058},
    {737,   4040},
    {739,   4020},
    {736,   4004},
    {732,   3993},
    {722,   3984},
    {718,   3974},
    {709,   3963},
    {707,   3951},
    {708,   3938},
    {711,   3923},
    {716,   3906},
    {718,   3891},
    {724,   3879},
    {728,   3868},
    {733,   3860},
    {737,   3851},
    {746,   3844},
    {748,   3837},
    {761,   3830},
    {770,   3824},
    {783,   3818},
    {798,   3812},
    {811,   3807},
    {823,   3803},
    {836,   3797},
    {852,   3793},
    {869,   3790},
    {889,   3786},
    {904,   3782},
    {921,   3778},
    {945,   3774},
    {962,   3769},
    {986,   3765},
    {1005,   3760},
    {1024,   3754},
    {1049,   3747},
    {1067,   3742},
    {1085,   3734},
    {1110,   3724},
    {1131,   3715},
    {1155,   3702},
    {1182,   3693},
    {1215,   3691},
    {1242,   3689},
    {1277,   3687},
    {1314,   3685},
    {1350,   3677},
    {1397,   3638},
    {1450,   3567},
    {1498,   3464},
    {1552,   3359},
    {1606,   3333},
    {1654,   3319},
    {1699,   3312},
    {1737,   3307},
    {1783,   3304},
    {1826,   3300},
    {1889,   3295},
    {1967,   3292},
    {1968,   3291},
    {1968,   3290},
    {1968,   3290},
    {1970,   3289},
    {1970,   3288},
    {1970,   3285},
    {1970,   3285},
    {1977,   3284},
};

// T1 0C
R_PROFILE_STRUC r_profile_t1[] = {
    {409,   4333},
    {409,   4314},
    {407,   4296},
    {401,   4280},
    {404,   4263},
    {394,   4247},
    {396,   4231},
    {390,   4215},
    {384,   4199},
    {387,   4183},
    {384,   4168},
    {383,   4153},
    {387,   4137},
    {383,   4123},
    {380,   4107},
    {384,   4093},
    {379,   4079},
    {382,   4068},
    {384,   4058},
    {384,   4040},
    {387,   4020},
    {388,   4004},
    {393,   3993},
    {392,   3984},
    {387,   3974},
    {373,   3963},
    {369,   3951},
    {366,   3938},
    {360,   3923},
    {360,   3906},
    {358,   3891},
    {357,   3879},
    {353,   3868},
    {350,   3860},
    {346,   3851},
    {344,   3844},
    {347,   3837},
    {350,   3830},
    {351,   3824},
    {353,   3818},
    {354,   3812},
    {360,   3807},
    {364,   3803},
    {367,   3797},
    {372,   3793},
    {382,   3790},
    {388,   3786},
    {392,   3782},
    {405,   3778},
    {407,   3774},
    {417,   3769},
    {426,   3765},
    {432,   3760},
    {443,   3754},
    {449,   3747},
    {462,   3742},
    {473,   3734},
    {481,   3724},
    {485,   3715},
    {494,   3702},
    {505,   3693},
    {519,   3691},
    {528,   3689},
    {539,   3687},
    {553,   3685},
    {565,   3677},
    {579,   3638},
    {597,   3567},
    {608,   3464},
    {629,   3359},
    {654,   3333},
    {678,   3319},
    {702,   3312},
    {734,   3307},
    {778,   3304},
    {829,   3300},
    {896,   3295},
    {977,   3292},
    {978,   3291},
    {978,   3290},
    {977,   3290},
    {980,   3289},
    {980,   3288},
    {980,   3285},
    {980,   3285},
    {981,   3284},
};

// T2 25C
R_PROFILE_STRUC r_profile_t2[] = {
    {120,   4333},
    {120,   4314},
    {123,   4296},
    {125,   4280},
    {125,   4263},
    {125,   4247},
    {125,   4231},
    {125,   4215},
    {125,   4199},
    {125,   4183},
    {127,   4168},
    {127,   4153},
    {127,   4137},
    {130,   4123},
    {128,   4107},
    {132,   4093},
    {132,   4079},
    {133,   4068},
    {138,   4058},
    {138,   4040},
    {138,   4020},
    {138,   4004},
    {142,   3993},
    {143,   3984},
    {147,   3974},
    {147,   3963},
    {148,   3951},
    {147,   3938},
    {143,   3923},
    {135,   3906},
    {130,   3891},
    {125,   3879},
    {123,   3868},
    {125,   3860},
    {123,   3851},
    {125,   3844},
    {125,   3837},
    {127,   3830},
    {128,   3824},
    {128,   3818},
    {130,   3812},
    {132,   3807},
    {135,   3803},
    {135,   3797},
    {137,   3793},
    {140,   3790},
    {148,   3786},
    {152,   3782},
    {155,   3778},
    {157,   3774},
    {152,   3769},
    {153,   3765},
    {153,   3760},
    {155,   3754},
    {152,   3747},
    {155,   3742},
    {157,   3734},
    {157,   3724},
    {162,   3715},
    {162,   3702},
    {163,   3693},
    {163,   3691},
    {168,   3689},
    {178,   3687},
    {188,   3685},
    {203,   3677},
    {205,   3638},
    {228,   3567},
    {253,   3464},
    {265,   3359},
    {223,   3333},
    {200,   3319},
    {188,   3312},
    {182,   3307},
    {173,   3304},
    {170,   3300},
    {160,   3295},
    {157,   3292},
    {153,   3291},
    {153,   3290},
    {153,   3290},
    {153,   3289},
    {152,   3288},
    {153,   3285},
    {147,   3285},
    {145,   3284},
};

// T3 50C
R_PROFILE_STRUC r_profile_t3[] = {
    {120,   4333},
    {120,   4314},
    {123,   4296},
    {125,   4280},
    {125,   4263},
    {125,   4247},
    {125,   4231},
    {125,   4215},
    {125,   4199},
    {125,   4183},
    {127,   4168},
    {127,   4153},
    {127,   4137},
    {130,   4123},
    {128,   4107},
    {132,   4093},
    {132,   4079},
    {133,   4068},
    {138,   4058},
    {138,   4040},
    {138,   4020},
    {138,   4004},
    {142,   3993},
    {143,   3984},
    {147,   3974},
    {147,   3963},
    {148,   3951},
    {147,   3938},
    {143,   3923},
    {135,   3906},
    {130,   3891},
    {125,   3879},
    {123,   3868},
    {125,   3860},
    {123,   3851},
    {125,   3844},
    {125,   3837},
    {127,   3830},
    {128,   3824},
    {128,   3818},
    {130,   3812},
    {132,   3807},
    {135,   3803},
    {135,   3797},
    {137,   3793},
    {140,   3790},
    {148,   3786},
    {152,   3782},
    {155,   3778},
    {157,   3774},
    {152,   3769},
    {153,   3765},
    {153,   3760},
    {155,   3754},
    {152,   3747},
    {155,   3742},
    {157,   3734},
    {157,   3724},
    {162,   3715},
    {162,   3702},
    {163,   3693},
    {163,   3691},
    {168,   3689},
    {178,   3687},
    {188,   3685},
    {203,   3677},
    {205,   3638},
    {228,   3567},
    {253,   3464},
    {265,   3359},
    {223,   3333},
    {200,   3319},
    {188,   3312},
    {182,   3307},
    {173,   3304},
    {170,   3300},
    {160,   3295},
    {157,   3292},
    {153,   3291},
    {153,   3290},
    {153,   3290},
    {153,   3289},
    {152,   3288},
    {153,   3285},
    {147,   3285},
    {145,   3284},
};

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] = {
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
    {0,   0},
};

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

